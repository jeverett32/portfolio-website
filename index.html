<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>John Everett | Portfolio</title>
    <meta name="description" content="John Everett — software engineer & data analyst. Portfolio of AI and web projects, case studies, and open-source work.">
    <link rel="canonical" href="https://johnreverett.com/">
    <link rel="icon" type="image/png" href="images/favicon.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Plus+Jakarta+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="John Everett — Interactive AI Portfolio">
    <meta property="og:description" content="Software engineering and data analysis projects, demos, and case studies.">
    <meta property="og:url" content="https://johnreverett.com/">
    <meta property="og:image" content="https://johnreverett.com/og-image.png">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="John Everett — Interactive AI Portfolio">
    <meta name="twitter:description" content="Software engineering and data analysis projects, demos, and case studies.">
    <meta name="twitter:image" content="https://johnreverett.com/og-image.png">
    <!-- JSON-LD structured data (Person + Website) -->
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "John Everett",
    "url": "https://johnreverett.com/",
    "sameAs": [
        "https://github.com/jeverett32",
        "https://www.linkedin.com/in/johneverett32/"
    ],
    "jobTitle": "Software Engineer",
    "worksFor": {
        "@type": "Organization",
        "name": "Self"
    }
    }
    </script>
    <style>
        :root {
            --bg-color: #FFFFFF;
            --header-bg-color: rgba(255, 255, 255, 0.95);
            --text-color: #1a1a1a;
            --text-muted-color: #666666;
            --text-muted-darker-color: #999999;
            --primary-color: #D4AF37;
            --secondary-color: #666666;
            --secondary-hover-color: #C5A028;
            --panel-bg-color: #F8F8F8;
            --panel-border-color: rgba(0, 0, 0, 0.08);
            --input-bg-color: #FFFFFF;
            --input-border-color: rgba(0, 0, 0, 0.15);
            --input-focus-border-color: #D4AF37;
            --button-secondary-bg-color: #F5F5F5;
            --button-secondary-hover-bg-color: #E8E8E8;
            --tag-bg-color: transparent;
            --tag-text-color: #666666;
            --skill-bg-color: transparent;
            --skill-text-color: #666666;
            --interactive-ball-color: #D4AF37;
            --surface-color: rgba(248, 248, 248, 0.5);
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            overflow-x: hidden; 
            background-color: var(--bg-color);
            color: var(--text-color);
            font-weight: 300;
        }
        .font-serif { font-family: 'Playfair Display', serif; }
        .nav-active { color: var(--primary-color); }
        #cursor-glow { position: fixed; width: 500px; height: 500px; border-radius: 50%; background: radial-gradient(circle, var(--primary-color-glow, rgba(212, 175, 55, 0.05)) 0%, rgba(212, 175, 55, 0) 70%); transform: translate(-50%, -50%); pointer-events: none; z-index: 0; transition: opacity 0.3s, background 0.5s; opacity: 0; }
        .loader { border: 4px solid #4b5563; border-top: 4px solid var(--primary-color); border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        

        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-color);
        }
        ::-webkit-scrollbar-thumb {
            background: #D0D0D0;
            border: 1px solid var(--bg-color);
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }
        ::selection {
            background: var(--primary-color);
            color: #FFFFFF;
        }

        /* Accessibility & Motion Preferences */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            z-index: 2000;
            transition: top 0.3s;
        }
        .skip-link:focus {
            top: 0;
        }
        
        @media (prefers-reduced-motion: reduce) {
            html { scroll-behavior: auto !important; }
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            #interactive-ball, #cursor-glow, #ball-bubble, #offscreen-pointer { display: none !important; }
        }
    </style>
</head>
<body class="antialiased relative">
    <a class="skip-link" href="#main-content">Skip to main content</a>

    <div id="cursor-glow"></div>

    <header id="header" class="sticky top-0 z-50 bg-[var(--header-bg-color)] backdrop-blur-md">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <a href="#home" class="text-2xl font-serif font-bold text-[var(--text-color)] tracking-tight hover:text-[var(--primary-color)] transition-colors">John Everett.</a>
                </div>
                <div class="hidden md:block">
                    <div id="nav-menu" class="ml-10 flex items-baseline space-x-10">
                        <a href="#about" class="nav-link text-sm uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors duration-300"><span>About</span></a>
                        <a href="#projects" class="nav-link text-sm uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors duration-300"><span>Projects</span></a>
                        <a href="#ai-assistant" class="nav-link text-sm uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors duration-300"><span>Assistant</span></a>
                        <a href="#contact" class="nav-link text-sm uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors duration-300"><span>Contact</span></a>
                    </div>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-[var(--text-muted-darker-color)] hover:text-[var(--text-color)] hover:bg-[var(--button-secondary-bg-color)] focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                        <span class="sr-only">Open main menu</span>
                        <svg id="hamburger-icon" class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
                        <svg id="close-icon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#home" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:bg-[var(--button-secondary-bg-color)]">Home</a>
                <a href="#about" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:bg-[var(--button-secondary-bg-color)]">About</a>
                <a href="#projects" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:bg-[var(--button-secondary-bg-color)]">Projects</a>
                <a href="#ai-assistant" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:bg-[var(--button-secondary-bg-color)]">AI Assistant</a>
                <a href="#contact" class="mobile-nav-link block px-3 py-2 rounded-md text-base font-medium text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:bg-[var(--button-secondary-bg-color)]">Contact</a>
            </div>
        </div>
    </header>

    <main id="main-content" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <section id="home" class="relative min-h-screen flex items-center pt-20">
            <div class="relative z-20 max-w-4xl">
                <p class="text-[var(--primary-color)] font-medium tracking-widest uppercase text-sm mb-6">Portfolio 2025</p>
                
                <h1 class="text-5xl md:text-8xl font-serif font-medium text-[var(--text-color)] mb-8 leading-tight">
                    Data Analyst & <br />
                    <span class="text-[var(--text-muted-color)]">Systems Specialist</span>
                </h1>

                <p class="text-xl md:text-2xl text-[var(--text-muted-color)] max-w-2xl mb-12 font-light leading-relaxed">
                    STEM-Certified BSIS Student at Brigham Young University. <br/>
                    Blending data analytics with full-stack engineering to solve complex business problems.
                </p>

                <div class="flex flex-col sm:flex-row gap-6">
                    <a href="#projects" class="group flex items-center gap-3 text-[var(--text-color)] hover:text-[var(--primary-color)] transition-colors pb-1 border-b border-[var(--text-color)]/30 hover:border-[var(--primary-color)] w-fit">
                        <span class="font-medium">View Selected Works</span>
                        <svg class="w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                        </svg>
                    </a>
                    
                    <a href="netlify/functions/resume.pdf" download="John_Everett_Resume.pdf" class="group flex items-center gap-3 text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors pb-1 border-b border-transparent hover:border-[var(--text-color)]/30 w-fit">
                        <span class="font-medium">Resume</span>
                    </a>
                </div>
            </div>
            
            <div class="absolute right-0 bottom-0 w-1/3 h-1/3 bg-gradient-to-tl from-[var(--panel-bg-color)] to-transparent opacity-20 pointer-events-none" />
        </section>

        <section id="about" class="py-24">
            <div class="relative z-20">
                <div class="grid grid-cols-1 md:grid-cols-12 gap-16">
                    <div class="md:col-span-4">
                        <h2 class="text-4xl font-serif text-[var(--text-color)] mb-6">About</h2>
                        <div class="h-px w-12 bg-[var(--primary-color)] mb-8"></div>
                        <img src="images/hiking.png" alt="John Everett hiking in the mountains" class="w-full h-auto object-cover transition-all duration-700" onerror="this.src='https://placehold.co/800x1000/1C1C1C/D4AF37?text=Hiking+Photo'">
                    </div>
                    <div class="md:col-span-8 space-y-12">
                        <div id="about-me-content" class="space-y-6 text-[var(--text-muted-color)] font-light">
                            <p class="text-xl text-[var(--text-color)]">I am a STEM-certified Information Systems student at Brigham Young University with a 4.0 GPA.</p>
                            <p class="text-base">I'm passionate about creating deliverable, data-driven business solutions and leveraging AI. My hands-on experience includes full-stack web and app development, cloud computing, database design, and much more.</p>
                            <p class="text-base">Before my current role, I spent two years on a church mission in southern Brazil, where I became fluent in Portuguese and led diverse teams of 5-20 people from eleven different nationalities. This experience honed my leadership and communication skills, which I now apply to thrive in fast-paced, collaborative environments. Outside of academics, I serve as an officer in the BYU Volleyball Club and enjoy the outdoors and exploring new technologies. This Summer of 2026, I will work as a data analytics intern for Sunoco LP in Dallas, TX. I will be creating data products (datasets, reports, dashboard, machine learning models) used in Retail and Midstream Fuel Analytics.</p>
                        </div>
                        <div class="pt-8 border-t border-[var(--panel-border-color)]">
                            <h3 class="text-lg font-serif text-[var(--text-color)] mb-8">Technical Proficiency</h3>
                            
                            <div id="skills-list" class="grid grid-cols-1 sm:grid-cols-2 gap-x-12 gap-y-8">
                                <div>
                                    <h4 class="text-xs uppercase tracking-widest text-[var(--primary-color)] mb-4">Programming</h4>
                                    <ul class="space-y-2">
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Python</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">JavaScript</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Java</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">React Native</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">TypeScript</li>
                                        <li class="text-[var(--text-muted-color)] text-sm pb-1">VBA</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="text-xs uppercase tracking-widest text-[var(--primary-color)] mb-4">Data & BI</h4>
                                    <ul class="space-y-2">
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">MSSQL, MySQL, PostgreSQL</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Excel</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Tableau, Power BI</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Jupyter Notebooks</li>
                                        <li class="text-[var(--text-muted-color)] text-sm pb-1">Google Colab</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="text-xs uppercase tracking-widest text-[var(--primary-color)] mb-4">Security & Systems</h4>
                                    <ul class="space-y-2">
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Tridium Niagara</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">AWS</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">PowerShell, Linux</li>
                                        <li class="text-[var(--text-muted-color)] text-sm pb-1">Virtual Machines</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="text-xs uppercase tracking-widest text-[var(--primary-color)] mb-4">Design & Collab</h4>
                                    <ul class="space-y-2">
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Figma</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Trello, Slack</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">Microsoft Teams</li>
                                        <li class="text-[var(--text-muted-color)] text-sm border-b border-[var(--panel-border-color)] pb-1">GitHub</li>
                                        <li class="text-[var(--text-muted-color)] text-sm pb-1">AI Prompting</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="projects" class="py-24">
            <div class="relative z-20">
                <div class="flex flex-col md:flex-row md:items-end justify-between mb-16 gap-6">
                    <div>
                        <h2 class="text-4xl font-serif text-[var(--text-color)] mb-4">Selected Works</h2>
                        <p class="text-[var(--text-muted-color)] max-w-md font-light">A curation of full-stack development, data analytics, and system integration projects.</p>
                    </div>
                    <div class="h-px bg-[var(--panel-border-color)] flex-1 md:ml-12 md:mb-2"></div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-16">
                    <div class="project-card group flex flex-col" data-summary="Full-stack web application for Ella Rises nonprofit supporting young Latina girls through STEM, art, and leadership events. Built with Node.js and deployed on AWS Elastic Beanstalk, featuring a fully normalized database connected via AWS RDS. Integrated Experience capstone project demonstrating enterprise-level database design and cloud deployment.">
                        <a href="http://ellarises27.is404.net" target="_blank" class="relative aspect-[4/3] overflow-hidden bg-[var(--panel-bg-color)] mb-6">
                            <img src="images/EllaRisesWebsite.png" alt="Ella Rises Website Screenshot" class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105 opacity-80 group-hover:opacity-100" onerror="this.src='https://placehold.co/600x400/1C1C1C/D4AF37?text=Ella+Rises+Website'">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                        </a>
                        <div class="flex flex-col flex-1">
                            <h3 class="text-xl font-serif text-[var(--text-color)] group-hover:text-[var(--primary-color)] transition-colors mb-3">Ella Rises Web Platform</h3>
                            <p class="text-[var(--text-muted-color)] text-sm leading-relaxed mb-4 flex-1">Full-stack platform for nonprofit empowering Latina girls. Node.js backend with normalized database on AWS RDS.</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Node.js</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">AWS RDS</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Elastic Beanstalk</span>
                            </div>
                            <div class="flex gap-4 pt-4 border-t border-[var(--panel-border-color)]">
                                <a href="http://ellarises27.is404.net" target="_blank" class="text-xs font-bold uppercase tracking-widest text-[var(--text-color)] hover:text-[var(--primary-color)] transition-colors">View Site</a>
                                <a href="https://github.com/colelatour/INTEX2025" target="_blank" class="text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors">Code</a>
                                <button type="button" class="summary-trigger text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors ml-auto" aria-label="Learn more">Learn More</button>
                            </div>
                        </div>
                    </div>
                    <div class="project-card group flex flex-col" data-summary="Interactive Tableau dashboard tracking participation, educational outcomes, and community engagement for Ella Rises, a nonprofit empowering young Latina girls through STEM, art, and leadership programs. The dashboard provides data-driven insights into program effectiveness and community impact.">
                        <a href="ella-rises-dashboard.html" class="relative aspect-[4/3] overflow-hidden bg-[var(--panel-bg-color)] mb-6">
                            <img src="images/EllaRisesDashboard.png" alt="Ella Rises Dashboard Screenshot" class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105 opacity-80 group-hover:opacity-100" onerror="this.src='https://placehold.co/600x400/1C1C1C/D4AF37?text=Ella+Rises+Dashboard'">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                        </a>
                        <div class="flex flex-col flex-1">
                            <h3 class="text-xl font-serif text-[var(--text-color)] group-hover:text-[var(--primary-color)] transition-colors mb-3">Ella Rises Impact Dashboard</h3>
                            <p class="text-[var(--text-muted-color)] text-sm leading-relaxed mb-4 flex-1">Interactive dashboard measuring community impact through participation, educational outcomes, and engagement metrics.</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Tableau</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Data Visualization</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Analytics</span>
                            </div>
                            <div class="flex gap-4 pt-4 border-t border-[var(--panel-border-color)]">
                                <a href="ella-rises-dashboard.html" class="text-xs font-bold uppercase tracking-widest text-[var(--text-color)] hover:text-[var(--primary-color)] transition-colors">View Dashboard</a>
                                <button type="button" class="summary-trigger text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors ml-auto" aria-label="Learn more">Learn More</button>
                            </div>
                        </div>
                    </div>
                    <div class="project-card group flex flex-col" data-summary="This Tableau dashboard project visualizes complex supply chain data, providing interactive insights into key performance metrics. It demonstrates advanced data visualization techniques and the ability to derive actionable business intelligence from raw data.">
                        <a href="tableau.html" class="relative aspect-[4/3] overflow-hidden bg-[var(--panel-bg-color)] mb-6">
                            <img src="images/FemaleAdmissions.png" alt="Tableau Dashboard Screenshot" class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105 opacity-80 group-hover:opacity-100" onerror="this.src='https://placehold.co/600x400/1C1C1C/D4AF37?text=Tableau+Dashboard'">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                        </a>
                        <div class="flex flex-col flex-1">
                            <h3 class="text-xl font-serif text-[var(--text-color)] group-hover:text-[var(--primary-color)] transition-colors mb-3">2025 IS Female Admissions Dashboard</h3>
                            <p class="text-[var(--text-muted-color)] text-sm leading-relaxed mb-4 flex-1">Interactive Tableau dashboard analyzing factors affecting female application numbers to the Information Systems program.</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Tableau</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Data Visualization</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">BI</span>
                            </div>
                            <div class="flex gap-4 pt-4 border-t border-[var(--panel-border-color)]">
                                <a href="tableau.html" class="text-xs font-bold uppercase tracking-widest text-[var(--text-color)] hover:text-[var(--primary-color)] transition-colors">View Project</a>
                                <button type="button" class="summary-trigger text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors ml-auto" aria-label="Learn more">Learn More</button>
                            </div>
                        </div>
                    </div>
                    <div class="project-card group flex flex-col" data-summary="I built a full e-commerce and scheduling site for a local business using Firebase and the Square API.">
                        <a href="https://trashbins.johnreverett.com/" target="_blank" class="relative aspect-[4/3] overflow-hidden bg-[var(--panel-bg-color)] mb-6">
                            <img src="images/trashbinsss.png" alt="Trash Bin Cleaning Website Screenshot" class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105 opacity-80 group-hover:opacity-100" onerror="this.src='https://placehold.co/600x400/1C1C1C/D4AF37?text=Trash+Bin+Site'">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                        </a>
                        <div class="flex flex-col flex-1">
                            <h3 class="text-xl font-serif text-[var(--text-color)] group-hover:text-[var(--primary-color)] transition-colors mb-3">Trash Bin Cleaning Service</h3>
                            <p class="text-[var(--text-muted-color)] text-sm leading-relaxed mb-4 flex-1">Full e-commerce and scheduling site for a local business, built with Firebase and the Square API.</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Firebase</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Square API</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">E-commerce</span>
                            </div>
                            <div class="flex gap-4 pt-4 border-t border-[var(--panel-border-color)]">
                                <a href="https://trashbins.johnreverett.com/" target="_blank" class="text-xs font-bold uppercase tracking-widest text-[var(--text-color)] hover:text-[var(--primary-color)] transition-colors">View Project</a>
                                <a href="https://github.com/jeverett32/trashbins" target="_blank" class="text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors">Code</a>
                                <button type="button" class="summary-trigger text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors ml-auto" aria-label="Learn more">Learn More</button>
                            </div>
                        </div>
                    </div>
                    <div class="project-card group flex flex-col" data-summary="I built a complete 2D RPG from scratch in Java, handling everything from the game loop and collision detection to UI with Swing. A key feature is the serialization for saving and loading game states, allowing for persistent player progression through a dynamic world with leveling, upgrades, and a final boss.">
                        <div class="relative aspect-[4/3] overflow-hidden bg-[var(--panel-bg-color)] mb-6">
                            <img src="images/javarpg.png" alt="Java RPG Game Screenshot" class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105 opacity-80 group-hover:opacity-100" onerror="this.src='https://placehold.co/600x400/1C1C1C/D4AF37?text=Java+RPG'">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                        </div>
                        <div class="flex flex-col flex-1">
                            <h3 class="text-xl font-serif text-[var(--text-color)] group-hover:text-[var(--primary-color)] transition-colors mb-3">Java RPG Adventure</h3>
                            <p class="text-[var(--text-muted-color)] text-sm leading-relaxed mb-4 flex-1">2D RPG built from scratch in Java Swing. Features tile-based world, combat, upgrades, and save/load system.</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Java</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Swing</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Game Dev</span>
                            </div>
                            <div class="flex gap-4 pt-4 border-t border-[var(--panel-border-color)]">
                                <a href="https://github.com/jeverett32/HeroGame/" target="_blank" class="text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors">Code</a>
                                <button type="button" class="summary-trigger text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors ml-auto" aria-label="Learn more">Learn More</button>
                            </div>
                        </div>
                    </div>
                    <div class="project-card group flex flex-col" data-summary="This portfolio is a dynamic showcase built with modern web technologies. It features an AI assistant powered by the Gemini API that can analyze job descriptions, answer questions about my experience, and even dynamically change the site's color theme based on user prompts.">
                        <div class="relative aspect-[4/3] overflow-hidden bg-[var(--panel-bg-color)] mb-6">
                            <img src="images/PersonalPortfolio.png" alt="Personal Portfolio Screenshot" class="w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-105 opacity-80 group-hover:opacity-100" onerror="this.src='https://placehold.co/600x400/1C1C1C/D4AF37?text=Personal+Portfolio'">
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                        </div>
                        <div class="flex flex-col flex-1">
                            <h3 class="text-xl font-serif text-[var(--text-color)] group-hover:text-[var(--primary-color)] transition-colors mb-3">AI-Integrated Portfolio</h3>
                            <p class="text-[var(--text-muted-color)] text-sm leading-relaxed mb-4 flex-1">This website! Featuring Gemini AI-powered theme generation, skill matching, and an interactive chatbot.</p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">React</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">Gemini API</span>
                                <span class="text-xs text-[var(--text-muted-color)]/60 uppercase tracking-wider">AI</span>
                            </div>
                            <div class="flex gap-4 pt-4 border-t border-[var(--panel-border-color)]">
                                <a href="https://github.com/jeverett32/portfolio-website/" target="_blank" class="text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors">Code</a>
                                <button type="button" class="summary-trigger text-xs font-bold uppercase tracking-widest text-[var(--text-muted-color)] hover:text-[var(--text-color)] transition-colors ml-auto" aria-label="Learn more">Learn More</button>
                            </div>
                        </div>
                    </div>
                                    </div>
                                </section>
                        
        <section id="ai-assistant" class="py-24 bg-[var(--surface-color)] border-y border-[var(--panel-border-color)]">
            <div class="relative z-20 max-w-6xl mx-auto">
                <div class="flex flex-col md:flex-row gap-12">
                    <!-- Menu / Introduction -->
                    <div class="md:w-1/3">
                        <h2 class="text-3xl font-serif text-[var(--text-color)] mb-4">Interactive Concierge</h2>
                        <p class="text-[var(--text-muted-color)] font-light mb-8">Powered by Google Gemini 2.5. Interact with this portfolio dynamically.</p>
                        
                        <nav class="space-y-1">
                            <button class="ai-tab-btn w-full text-left px-4 py-3 text-sm tracking-wide uppercase border-l-2 transition-all duration-300 border-primary text-[var(--text-color)] bg-white/5" data-tab="chat">Inquire</button>
                            <button class="ai-tab-btn w-full text-left px-4 py-3 text-sm tracking-wide uppercase border-l-2 transition-all duration-300 border-[var(--panel-border-color)] text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:border-white/30" data-tab="skills">Analyze Fit</button>
                            <button class="ai-tab-btn w-full text-left px-4 py-3 text-sm tracking-wide uppercase border-l-2 transition-all duration-300 border-[var(--panel-border-color)] text-[var(--text-muted-color)] hover:text-[var(--text-color)] hover:border-white/30" data-tab="theme">Personalize Aesthetic</button>
                        </nav>
                    </div>

                    <!-- Interaction Area -->
                    <div class="md:w-2/3 min-h-[500px] bg-[var(--bg-color)] border border-[var(--panel-border-color)] p-8">
                        <div id="ai-assistant-panel" class="h-full">
                            <!-- Chat Tab -->
                            <div class="ai-tab-content flex flex-col h-full" data-tab="chat">
                                <div id="chat-history" class="flex-1 overflow-y-auto space-y-6 pr-2">
                                    <div class="flex justify-start">
                                        <div class="max-w-[85%] text-left">
                                            <span class="text-xs uppercase tracking-wider text-[var(--text-muted-color)]/50 block mb-1">Assistant</span>
                                            <div class="text-sm md:text-base leading-relaxed text-[var(--text-muted-color)]">Welcome. I am John's AI Concierge. How may I assist you today?</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="border-t border-[var(--panel-border-color)] pt-4 flex gap-4 mt-4">
                                    <input type="text" id="qa-question" placeholder="Type your inquiry..." class="flex-1 bg-transparent border-b border-[var(--panel-border-color)] px-0 py-2 text-[var(--text-color)] focus:outline-none focus:border-[var(--primary-color)] transition-colors" />
                                    <button id="ask-question-btn" class="text-sm uppercase tracking-widest text-[var(--primary-color)] hover:text-[var(--text-color)] transition-colors">
                                        Send
                                        <div id="qa-loader" class="loader hidden inline-block ml-2"></div>
                                    </button>
                                </div>
                            </div>

                            <!-- Skills Tab -->
                            <div class="ai-tab-content hidden flex-col h-full" data-tab="skills">
                                <h3 class="text-xl font-serif mb-6 text-[var(--text-color)]">Job Description Analysis</h3>
                                <textarea id="job-description-text" placeholder="Paste job requirements here..." class="w-full bg-[var(--input-bg-color)] border border-[var(--panel-border-color)] p-4 text-sm text-[var(--text-muted-color)] focus:outline-none focus:border-[var(--primary-color)] resize-none mb-6 transition-colors" style="height: calc(100% - 200px);"></textarea>
                                <input type="file" id="job-description-file" class="hidden" accept=".txt,.md,.pdf">
                                <div class="flex justify-between items-center">
                                    <span class="text-xs text-[var(--text-muted-color)]/50">Analysis provided by Gemini 2.5</span>
                                    <button id="generate-summary-btn" class="px-6 py-2 border border-[var(--primary-color)] text-[var(--primary-color)] hover:bg-[var(--primary-color)] hover:text-[var(--bg-color)] transition-colors uppercase text-xs tracking-widest">
                                        Analyze
                                        <div id="summary-loader" class="loader hidden inline-block ml-2"></div>
                                    </button>
                                </div>
                                <div id="match-result" class="hidden mt-6 p-4 bg-[var(--input-bg-color)] border-l-2 border-[var(--primary-color)] text-sm text-[var(--text-muted-color)] leading-relaxed"></div>
                            </div>

                            <!-- Theme Tab -->
                            <div class="ai-tab-content hidden flex-col h-full justify-center items-center text-center" data-tab="theme">
                                <h3 class="text-xl font-serif mb-4 text-[var(--text-color)]">Aesthetic Generator</h3>
                                <p class="text-[var(--text-muted-color)] font-light mb-8 max-w-sm">Describe a visual atmosphere (e.g., "Nordic Minimalism", "Desert Dusk") to dynamically restyle this portfolio.</p>
                                <div class="w-full max-w-md border-b border-[var(--panel-border-color)] flex items-center mb-8">
                                    <input type="text" id="theme-description" placeholder="Enter concept..." class="flex-1 bg-transparent px-0 py-3 text-[var(--text-color)] text-center focus:outline-none" />
                                </div>
                                <button id="generate-theme-btn" class="px-8 py-3 bg-[var(--text-color)] text-[var(--bg-color)] font-medium hover:bg-[var(--primary-color)] transition-colors">
                                    Apply Style
                                    <div id="theme-loader" class="loader hidden inline-block ml-2"></div>
                                </button>
                            </div>

                            <div id="ai-error" class="text-red-400 text-center text-sm mt-4"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-24">
            <div class="max-w-2xl mx-auto">
                <div id="contact-form-section" class="relative z-20">
                     <h2 class="text-4xl font-serif text-[var(--text-color)] mb-4 text-center">Get In Touch</h2>
                     <div class="h-px w-12 bg-[var(--primary-color)] mb-8 mx-auto"></div>
                     <p class="text-[var(--text-muted-color)] mb-12 text-center font-light">Feel free to send me a message directly.</p>
                    <form id="contact-form" class="space-y-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="group">
                                <input type="text" name="name" id="name" required class="w-full bg-transparent border-b border-[var(--input-border-color)] py-3 text-[var(--text-color)] focus:outline-none focus:border-[var(--primary-color)] transition-colors placeholder:text-transparent" placeholder=" " />
                                <label for="name" class="block text-xs uppercase tracking-widest text-[var(--text-muted-color)] mt-2 group-focus-within:text-[var(--primary-color)] transition-colors">Name</label>
                            </div>
                            <div class="group">
                                <input type="email" name="email" id="email" required class="w-full bg-transparent border-b border-[var(--input-border-color)] py-3 text-[var(--text-color)] focus:outline-none focus:border-[var(--primary-color)] transition-colors placeholder:text-transparent" placeholder=" " />
                                <label for="email" class="block text-xs uppercase tracking-widest text-[var(--text-muted-color)] mt-2 group-focus-within:text-[var(--primary-color)] transition-colors">Email</label>
                            </div>
                        </div>
                        <div class="group">
                            <textarea name="message" id="message" rows="4" required class="w-full bg-transparent border-b border-[var(--input-border-color)] py-3 text-[var(--text-color)] focus:outline-none focus:border-[var(--primary-color)] transition-colors resize-none placeholder:text-transparent" placeholder=" "></textarea>
                            <label for="message" class="block text-xs uppercase tracking-widest text-[var(--text-muted-color)] mt-2 group-focus-within:text-[var(--primary-color)] transition-colors">Message</label>
                        </div>
                        <div class="pt-4 text-center">
                            <button type="submit" id="send-message-btn" class="px-10 py-3 border border-[var(--text-color)] text-[var(--text-color)] hover:bg-[var(--text-color)] hover:text-[var(--bg-color)] transition-all duration-300 font-medium">Send Message</button>
                        </div>
                    </form>
                    <div id="form-status" class="mt-6 text-center"></div>
                    <div class="mt-16 text-center">
                        <a href="mailto:john.everett32@gmail.com" class="text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors text-sm tracking-wide">john.everett32@gmail.com</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-[var(--bg-color)] border-t border-[var(--panel-border-color)] relative z-10 py-12">
        <div class="relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="text-2xl font-serif font-bold text-[var(--text-color)]">John Everett.</div>
                <div class="flex justify-center space-x-8">
                    <a href="https://github.com/jeverett32" target="_blank" rel="noopener noreferrer" class="text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg></a>
                    <a href="https://linkedin.com/in/johneverett32/" target="_blank" rel="noopener noreferrer" class="text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a>
                    <a href="mailto:john.everett32@gmail.com" class="text-[var(--text-muted-color)] hover:text-[var(--primary-color)] transition-colors" aria-label="Email"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg></a>
                </div>
                <p class="text-[var(--text-muted-darker-color)] text-sm">© 2025 John Everett</p>
            </div>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js`;

        document.addEventListener('DOMContentLoaded', function () {
            
            const form = document.getElementById('contact-form');
            const status = document.getElementById('form-status');
            form.addEventListener("submit", async function(event) {
                event.preventDefault();
                const data = new FormData(event.target);
                try {
                    const response = await fetch("https://formspree.io/f/mldljzql", { method: 'POST', body: data, headers: { 'Accept': 'application/json' } });
                    if (response.ok) {
                        status.innerHTML = "Thanks for your submission!";
                        status.classList.add('text-green-400');
                        status.classList.remove('text-red-400');
                        form.reset();
                    } else {
                        const responseData = await response.json();
                        status.innerHTML = responseData.errors ? responseData.errors.map(e => e.message).join(", ") : "Oops! There was a problem.";
                        status.classList.add('text-red-400');
                    }
                } catch (error) {
                    status.innerHTML = "Oops! There was a problem submitting your form.";
                    status.classList.add('text-red-400');
                }
            });

            // --- Gemini AI Logic ---
            const generateSummaryBtn = document.getElementById('generate-summary-btn');
            const askQuestionBtn = document.getElementById('ask-question-btn');
            const generateThemeBtn = document.getElementById('generate-theme-btn');
            
            const jobDescTextarea = document.getElementById('job-description-text');
            const jobDescFile = document.getElementById('job-description-file');
            const qaQuestionInput = document.getElementById('qa-question');
            const themeDescriptionInput = document.getElementById('theme-description');
            
            const summaryLoader = document.getElementById('summary-loader');
            const qaLoader = document.getElementById('qa-loader');
            const themeLoader = document.getElementById('theme-loader');
            const aiError = document.getElementById('ai-error');
            
            const aboutMeContent = document.getElementById('about-me-content').innerText.trim();
            const skills = Array.from(document.querySelectorAll('#skills-list span')).map(span => span.textContent).join(', ');



            generateSummaryBtn.addEventListener('click', async () => {
                let jobDescription = jobDescTextarea.value.trim();
                const file = jobDescFile.files[0];
                if (file) { try { jobDescription = await readFileContent(file); } catch (error) { aiError.textContent = `Error reading file: ${error.message}`; return; } }
                if (!jobDescription) { aiError.textContent = 'Please paste or upload a job description first.'; return; }
                
                summaryLoader.classList.remove('hidden');
                generateSummaryBtn.disabled = true;
                aiError.textContent = '';
                const matchResultDiv = document.getElementById('match-result');
                try {
                    const payload = { taskType: 'match', jobDescription, bio: aboutMeContent, skills };
                    const generatedSummary = await callApiFunction(payload);
                    matchResultDiv.textContent = generatedSummary;
                    matchResultDiv.classList.remove('hidden');
                } catch (error) {
                    aiError.textContent = `Failed to generate summary: ${error.message}`;
                } finally {
                    summaryLoader.classList.add('hidden');
                    generateSummaryBtn.disabled = false;
                }
            });

            const handleAskQuestion = async () => {
                const question = qaQuestionInput.value.trim();
                if (!question) { aiError.textContent = 'Please enter a question first.'; return; }

                addChatMessage(question, true);
                qaQuestionInput.value = '';
                qaLoader.classList.remove('hidden');
                askQuestionBtn.disabled = true;
                aiError.textContent = '';
                try {
                    const payload = { taskType: 'qa', question, bio: aboutMeContent, skills };
                    const answer = await callApiFunction(payload);
                    addChatMessage(answer, false);
                } catch (error) {
                    aiError.textContent = `Failed to get answer: ${error.message}`;
                } finally {
                    qaLoader.classList.add('hidden');
                    askQuestionBtn.disabled = false;
                }
            };

            askQuestionBtn.addEventListener('click', handleAskQuestion);
            qaQuestionInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') handleAskQuestion();
            });

            generateThemeBtn.addEventListener('click', async () => {
                const description = themeDescriptionInput.value.trim();
                if (!description) { aiError.textContent = 'Please describe a theme first.'; return; }

                themeLoader.classList.remove('hidden');
                generateThemeBtn.disabled = true;
                aiError.textContent = '';
                try {
                    const payload = { taskType: 'theme', description, bio: aboutMeContent, skills };
                    const colors = await callApiFunction(payload);
                    applyTheme(colors);
                    aiError.textContent = '';
                    aiError.style.color = 'var(--accent-color)';
                    aiError.textContent = '✓ Theme updated successfully!';
                    setTimeout(() => { aiError.textContent = ''; aiError.style.color = ''; }, 3000);
                } catch (error) {
                    aiError.style.color = '';
                    aiError.textContent = `Failed to generate theme: ${error.message}`;
                }finally {
                    themeLoader.classList.add('hidden');
                    generateThemeBtn.disabled = false;
                }
            });

            async function callApiFunction(payload) {
                const apiUrl = '/.netlify/functions/generate-message';
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || `API request failed with status ${response.status}`);
                }

                const result = await response.json();
                
                if (payload.taskType === 'theme') {
                    if (result.colors) {
                        return result.colors;
                    } else {
                        throw new Error("Backend did not return a valid color theme.");
                    }
                }
                
                return result.message;
            }

            function applyTheme(colors) {
                const root = document.documentElement;
                for (const [key, value] of Object.entries(colors)) {
                    const cssVar = '--' + key.replace(/[A-Z]/g, letter => `-${letter.toLowerCase()}`);
                    root.style.setProperty(cssVar, value);
                }
                const hex = colors.primaryColor.startsWith('#') ? colors.primaryColor.substring(1) : colors.primaryColor;
                const r = parseInt(hex.substring(0, 2), 16);
                const g = parseInt(hex.substring(2, 4), 16);
                const b = parseInt(hex.substring(4, 6), 16);
                root.style.setProperty('--primary-color-glow', `rgba(${r}, ${g}, ${b}, 0.05)`);
                
                localStorage.setItem('portfolioTheme', JSON.stringify(colors));
            }

            function readFileContent(file) {
                return new Promise((resolve, reject) => {
                    if (file.type === 'application/pdf') {
                        const reader = new FileReader();
                        reader.onload = async (event) => {
                            try {
                                const pdf = await pdfjsLib.getDocument(event.target.result).promise;
                                let text = '';
                                for (let i = 1; i <= pdf.numPages; i++) {
                                    const page = await pdf.getPage(i);
                                    const content = await page.getTextContent();
                                    text += content.items.map(item => item.str).join(' ');
                                }
                                resolve(text);
                            } catch (error) { reject(new Error('Could not parse PDF file.')); }
                        };
                        reader.onerror = () => reject(new Error('Failed to read file.'));
                        reader.readAsArrayBuffer(file);
                    } else {
                        const reader = new FileReader();
                        reader.onload = (event) => resolve(event.target.result);
                        reader.onerror = () => reject(new Error('Failed to read file.'));
                        reader.readAsText(file);
                    }
                });
            }

            // --- Tab Switching Logic ---
            const tabButtons = document.querySelectorAll('.ai-tab-btn');
            const tabContents = document.querySelectorAll('.ai-tab-content');
            
            tabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetTab = btn.dataset.tab;
                    
                    // Update buttons
                    tabButtons.forEach(b => {
                        b.classList.remove('border-primary', 'text-[var(--text-color)]', 'bg-white/5');
                        b.classList.add('border-[var(--panel-border-color)]', 'text-[var(--text-muted-color)]');
                    });
                    btn.classList.add('border-primary', 'text-[var(--text-color)]', 'bg-white/5');
                    btn.classList.remove('border-[var(--panel-border-color)]', 'text-[var(--text-muted-color)]');
                    
                    // Update content
                    tabContents.forEach(content => {
                        if (content.dataset.tab === targetTab) {
                            content.classList.remove('hidden');
                            content.classList.add('flex');
                        } else {
                            content.classList.add('hidden');
                            content.classList.remove('flex');
                        }
                    });
                });
            });

            // --- Chat History Management ---
            const chatHistory = document.getElementById('chat-history');
            function addChatMessage(text, isUser = false) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `flex ${isUser ? 'justify-end' : 'justify-start'}`;
                messageDiv.innerHTML = `
                    <div class="max-w-[85%] ${isUser ? 'text-right' : 'text-left'}">
                        <span class="text-xs uppercase tracking-wider text-[var(--text-muted-color)]/50 block mb-1">${isUser ? 'You' : 'Assistant'}</span>
                        <div class="text-sm md:text-base leading-relaxed ${isUser ? 'text-[var(--text-color)]' : 'text-[var(--text-muted-color)]'}">${text}</div>
                    </div>
                `;
                chatHistory.appendChild(messageDiv);
                chatHistory.scrollTop = chatHistory.scrollHeight;
            }

            // --- Summary Button Logic ---
            const summaryTriggers = document.querySelectorAll('.summary-trigger');
            summaryTriggers.forEach(trigger => {
                trigger.addEventListener('click', (e) => {
                    const buttonElement = e.currentTarget;
                    const parentCard = buttonElement.closest('.project-card');
                    const summary = parentCard ? parentCard.getAttribute('data-summary') : null;
                    if (summary) {
                        alert(summary); // Simple popup for now
                    }
                });
            });

            // --- Other Scripts (Menu, Modal, etc.) ---
            const mobileMenuButton = document.getElementById('mobile-menu-button'), mobileMenu = document.getElementById('mobile-menu'), hamburgerIcon = document.getElementById('hamburger-icon'), closeIcon = document.getElementById('close-icon');
            const toggleMenu = () => { mobileMenu.classList.toggle('hidden'); hamburgerIcon.classList.toggle('hidden'); closeIcon.classList.toggle('hidden'); };
            mobileMenuButton.addEventListener('click', toggleMenu);
            document.querySelectorAll('.mobile-nav-link').forEach(link => { link.addEventListener('click', () => { if (!mobileMenu.classList.contains('hidden')) { toggleMenu(); } }); });
            const sections = document.querySelectorAll('section'), navLinks = document.querySelectorAll('.nav-link'), headerHeight = document.getElementById('header').offsetHeight;
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        navLinks.forEach(link => link.classList.remove('nav-active'));
                        const activeLink = document.querySelector(`.nav-link[href="#${entry.target.getAttribute('id')}"]`);
                        if (activeLink) { activeLink.classList.add('nav-active'); }
                    }
                });
            }, { root: null, rootMargin: `-${headerHeight}px 0px 0px 0px`, threshold: 0.4 });
            sections.forEach(section => observer.observe(section));
        });
    </script>
</body>
</html>
